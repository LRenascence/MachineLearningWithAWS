Gary Martin, 45, who died in an exchange of fire with the police after a rampage on Friday that left five co-workers dead and at least six other people wounded, had already had his state weapons permit revoked because of a felony assault conviction from years earlier, the police in Aurora, Ill., said. Still, they said, his gun was never taken away.